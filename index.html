<html>
<head>
    <script src="https://keycloak.fifcan.org/auth/js/keycloak.js"></script>
    <script>
        function initKeycloak() {
            const keycloak = new Keycloak({
                url: 'https://keycloak.fifcan.org',
                realm: 'fifcan.github.io',
                clientId: 'fifcan.github.io'
            });
            keycloak.init({
                onLoad: 'check-sso',
                silentCheckSsoRedirectUri: window.location.origin + '/silent-check-sso.html'
            })
            .then(function(authenticated) {
                document.getElementById('authenticated').innerHTML = (authenticated ? 'authenticated' : 'not authenticated');
            })
            .catch(function() {
                document.getElementById('authenticated').innerHTML = 'failed to initialize';
            });
        }
    </script>
</head>
<body onload="initKeycloak()">
  <h1>Identification via un royaume Keycloak</h1>
  <p>
    <label>Identification : </label>
    <span id="authenticated">Chargement en cours</span>
  </p>
</body>
</html>
